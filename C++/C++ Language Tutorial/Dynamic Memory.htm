<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0050)http://www.cplusplus.com/doc/tutorial/dynamic.html -->
<HTML><HEAD><TITLE>Dynamic Memory</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<STYLE type=text/css>BODY {
	FONT-SIZE: 12px; COLOR: black; FONT-FAMILY: verdana,arial,helvetica,sans-serif
}
TABLE {
	FONT-SIZE: 12px; COLOR: black; FONT-FAMILY: verdana,arial,helvetica,sans-serif
}
INPUT {
	FONT-SIZE: 12px; COLOR: black; FONT-FAMILY: verdana,arial,helvetica,sans-serif
}
SELECT {
	FONT-SIZE: 12px; COLOR: black; FONT-FAMILY: verdana,arial,helvetica,sans-serif
}
TEXTAREA {
	FONT-SIZE: 12px; COLOR: black; FONT-FAMILY: verdana,arial,helvetica,sans-serif
}
BODY {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
FORM {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
PRE {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
DT {
	FONT-WEIGHT: bold
}
DD {
	MARGIN-BOTTOM: 12px
}
UL {
	MARGIN-BOTTOM: 12px
}
UL {
	MARGIN-TOP: 4px
}
LI {
	MARGIN-BOTTOM: 4px
}
A:link {
	COLOR: #000070; TEXT-DECORATION: none
}
A:visited {
	COLOR: #000070; TEXT-DECORATION: none
}
A:active {
	COLOR: #000070; TEXT-DECORATION: none
}
A:hover {
	COLOR: #0000a0; TEXT-DECORATION: underline
}
.imgbox {
	LINE-HEIGHT: 1px
}
.stdform {
	BORDER-RIGHT: #00007f 1px solid; BORDER-TOP: #00007f 1px solid; BORDER-LEFT: #00007f 1px solid; BORDER-BOTTOM: #00007f 1px solid
}
.stdform TH {
	BORDER-RIGHT: #00007f 1px solid; BORDER-TOP: #00007f 1px solid; BORDER-LEFT: #00007f 1px solid; BORDER-BOTTOM: #00007f 1px solid
}
.stdform TD {
	BORDER-RIGHT: #707080 1px solid; BORDER-TOP: #707080 1px solid; BORDER-LEFT: #707080 1px solid; BORDER-BOTTOM: #707080 1px solid; TEXT-ALIGN: left
}
.stdform TR TD {
	BACKGROUND: #f0f0ff
}
.stdform TR.odd TD {
	BACKGROUND: #e0e0ff
}
.stdform TH {
	BACKGROUND: url(/img/blue.gif) blue; COLOR: #ffffff
}
.stdform TH A:link {
	COLOR: white
}
.stdform TH A:visited {
	COLOR: white
}
.stdform TH A:active {
	COLOR: white
}
.stdform TH A:hover {
	COLOR: yellow
}
.stdform .txt {
	BORDER-RIGHT: black 1px solid; BORDER-TOP: black 1px solid; BORDER-LEFT: black 1px solid; BORDER-BOTTOM: black 1px solid; BACKGROUND-COLOR: #fffff0
}
.stdform SELECT {
	BORDER-RIGHT: black 1px solid; BORDER-TOP: black 1px solid; BORDER-LEFT: black 1px solid; BORDER-BOTTOM: black 1px solid; BACKGROUND-COLOR: #fffff0
}
.stdform TEXTAREA {
	BORDER-RIGHT: black 1px solid; BORDER-TOP: black 1px solid; BORDER-LEFT: black 1px solid; BORDER-BOTTOM: black 1px solid; BACKGROUND-COLOR: #fffff0
}
.stdform TEXTAREA {
	FONT-FAMILY: monospace
}
.stdform .field {
	FONT-WEIGHT: bold; TEXT-ALIGN: right
}
.stdform .value {
	FONT-FAMILY: courier,monospace
}
.stdform .description {
	FONT-SIZE: 80%
}
.stdform .buttons {
	PADDING-RIGHT: 5px; PADDING-LEFT: 5px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; TEXT-ALIGN: center
}
.stdform TR.separator TD {
	FONT-WEIGHT: bold; BACKGROUND: white
}
.stdform .number {
	TEXT-ALIGN: center
}
.secform {
	BORDER-RIGHT: #ff6020 1px solid; BORDER-TOP: #ff6020 1px solid; BORDER-LEFT: #ff6020 1px solid; BORDER-BOTTOM: #ff6020 1px solid; BORDER-COLLAPSE: collapse
}
.secform TD {
	BORDER-RIGHT: #ff6020 1px solid; BORDER-TOP: #ff6020 1px solid; BORDER-LEFT: #ff6020 1px solid; BORDER-BOTTOM: #ff6020 1px solid; BORDER-COLLAPSE: collapse
}
.secform TR {
	BACKGROUND: #fffff0
}
.secform TR.odd TD {
	BACKGROUND: #ffffd0
}
.secform TH {
	BACKGROUND: url(/img/orange.gif) #ff6020; COLOR: #ffffff
}
.errors {
	BORDER-RIGHT: #7f0000 1px solid; BORDER-TOP: #7f0000 1px solid; BORDER-LEFT: #7f0000 1px solid; BORDER-BOTTOM: #7f0000 1px solid
}
.errors TH {
	BORDER-RIGHT: #7f0000 1px solid; BORDER-TOP: #7f0000 1px solid; BORDER-LEFT: #7f0000 1px solid; BORDER-BOTTOM: #7f0000 1px solid
}
.errors TD {
	BORDER-RIGHT: #807070 1px solid; BORDER-TOP: #807070 1px solid; BORDER-LEFT: #807070 1px solid; BORDER-BOTTOM: #807070 1px solid; TEXT-ALIGN: left
}
.errors TH {
	BACKGROUND: red; COLOR: #ffffff
}
.errors TD {
	BACKGROUND: #ffe0e0
}
.bar {
	BACKGROUND: url(/img/headbg.gif); COLOR: white; LINE-HEIGHT: 20px
}
.bar TABLE {
	FONT-SIZE: 9px; COLOR: white; LINE-HEIGHT: 16px
}
.bar A:link {
	COLOR: white
}
.bar A:visited {
	COLOR: white
}
.bar A:active {
	COLOR: white
}
.bar A:hover {
	COLOR: yellow; TEXT-DECORATION: none
}
.bar .txt {
	BORDER-RIGHT: 1px inset; BORDER-TOP: 1px inset; BORDER-LEFT: 1px inset; BORDER-BOTTOM: 1px inset; HEIGHT: 14px; BACKGROUND-COLOR: #c0c0ff
}
.bar .btn {
	BORDER-RIGHT: 1px outset; BORDER-TOP: 1px outset; FONT-SIZE: 9px; BORDER-LEFT: 1px outset; BORDER-BOTTOM: 1px outset; HEIGHT: 18px; BACKGROUND-COLOR: #c0c0ff
}
.left {
	BORDER-RIGHT: black 1px solid
}
.left TABLE {
	BORDER-RIGHT: #00007f 1px solid; BORDER-TOP: #00007f 1px solid; MARGIN-TOP: 5px; BACKGROUND: white; BORDER-LEFT: #00007f 1px solid; WIDTH: 160px; BORDER-BOTTOM: #00007f 1px solid; BORDER-COLLAPSE: collapse
}
.left TD {
	FONT-SIZE: x-small; COLOR: #000070; FONT-FAMILY: verdana,arial,helvetica,sans-serif; TEXT-ALIGN: left
}
.left TH {
	FONT-SIZE: xx-small; BACKGROUND: url(/img/blue.gif) blue; COLOR: #ffffff; FONT-FAMILY: verdana,arial,helvetica,sans-serif; HEIGHT: 14px
}
.left TH A:link {
	COLOR: #ffffff; TEXT-DECORATION: none
}
.left TH A:visited {
	COLOR: #ffffff; TEXT-DECORATION: none
}
.left TH A:active {
	COLOR: #ffffff; TEXT-DECORATION: none
}
.left TH A:hover {
	COLOR: yellow; TEXT-DECORATION: none
}
.warning {
	BORDER-RIGHT: red 2px solid; BORDER-TOP: red 2px solid; BACKGROUND: #ffc000; BORDER-LEFT: red 2px solid; BORDER-BOTTOM: red 2px solid
}
.content {
	PADDING-RIGHT: 5px; PADDING-LEFT: 5px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px
}
.boxed {
	BORDER-COLLAPSE: collapse
}
.boxed TH {
	BORDER-RIGHT: black 1px solid; BORDER-TOP: black 1px solid; BACKGROUND: #e0e0e0; BORDER-LEFT: black 1px solid; BORDER-BOTTOM: black 1px solid
}
.boxed TD {
	BORDER-RIGHT: black 1px solid; BORDER-TOP: black 1px solid; BORDER-LEFT: black 1px solid; BORDER-BOTTOM: black 1px solid
}
.code A:link {
	COLOR: black; TEXT-DECORATION: none
}
.code A:visited {
	COLOR: black; TEXT-DECORATION: none
}
.code A:active {
	COLOR: black; TEXT-DECORATION: none
}
.code A:hover {
	BACKGROUND: yellow; COLOR: black; TEXT-DECORATION: none
}
.codebox {
	WIDTH: 100%
}
.snippet {
	MARGIN-LEFT: 20px
}
.code {
	BORDER-RIGHT: #c0c0d0 1px solid; BORDER-TOP: #c0c0d0 1px solid; BACKGROUND: #efefff; BORDER-LEFT: #c0c0d0 1px solid; BORDER-BOTTOM: #c0c0d0 1px solid
}
.result {
	BORDER-RIGHT: #c0c0c0 1px solid; BORDER-TOP: #c0c0c0 1px solid; BACKGROUND: #e7e7e7; VERTICAL-ALIGN: top; BORDER-LEFT: #c0c0c0 1px solid; WIDTH: 50%; BORDER-BOTTOM: #c0c0c0 1px solid
}
.codebox {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; BORDER-TOP-STYLE: none; PADDING-TOP: 0px; BORDER-RIGHT-STYLE: none; BORDER-LEFT-STYLE: none; BORDER-BOTTOM-STYLE: none
}
.kw {
	COLOR: #0000b0
}
A.kw:hover {
	COLOR: #0000b0
}
A.kw:link {
	COLOR: #0000b0
}
A.kw:visited {
	COLOR: #0000b0
}
A.kw:active {
	COLOR: #0000b0
}
.prep {
	COLOR: #500070
}
.comm {
	COLOR: #007000
}
.str {
	COLOR: #600030
}
</STYLE>

<SCRIPT type=text/javascript>
<!--
function GetCookie(name) {
  var dc = document.cookie;
  var prefix = name + '=';
  var begin = dc.indexOf('; ' + prefix);
  if (begin == -1) {
    begin = dc.indexOf(prefix);
    if (begin != 0) return null;
  } else
    begin += 2;
  var end = document.cookie.indexOf(';', begin);
  if (end == -1)
    end = dc.length;
  var sret=unescape(dc.substring(begin + prefix.length, end));
  var aret=sret.split('+'); sret=aret.join(' ');
  return sret;
}

var user=GetCookie ('codehq_user');

var mo = new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");

function When(ts) {
 var dt = new Date(ts*1000);
 document.write(mo[dt.getMonth()]+" "+dt.getDate()+", "+(dt.getYear()+(dt.getYear()<1900?1900:0)));
 document.write(" at "+((dt.getHours()%12)==0?12:dt.getHours()%12)+":"+(dt.getMinutes()<10?"0":"")+dt.getMinutes()+(dt.getHours()<12?"am":"pm"));
}

function LoginBox() {
if (!user)
{
	document.write ('<table cellspacing=2 cellpadding="0" valign="top">');
	document.write ('<tr><td align="center"><b>user<\/b><\/td><td align="center"><b>pass<\/b><\/td><td align="center">[<a href="/member/signup.form">register<\/a>]<\/td><\/tr>');
	document.write ('<tr><td align="center"><input class="txt" name="l" size="4" type="text"><\/td>');
	document.write (' <td align="center"><input class="txt" name="p" size="4" type="password"><\/td>');
	document.write (' <td align="center"><input class="btn" value="sign in" type="submit"><\/td><\/tr>');
	document.write ('<\/table>');
}
else
{
	document.write ('<table width="150" cellspacing="2" cellpadding="0" valign="top">');
	document.write ('<tr><td colspan="2" align="center">Logged in as: <b>'+user+'<\/b></td></tr>');	
	document.write ('<tr><td align="right"><input class="btn" value="log out" type="submit"><input type="hidden" name="redirectto" value="/doc/tutorial/dynamic.html"><input type="hidden" name="logout" value="sign out"></td>');
	document.write ('<td align="left">[<b><a href="/member/">profile<\/a><\/b>]<\/font>');
	document.write ('<\/td><\/tr>');
	document.write ('<\/table>');
}
}

var lowuser=user.toLowerCase();
var faaccess=new Boolean ( (( GetCookie('codehq_access') & 256 )==256 ));
function SuOptions() {
	if ((faaccess==true)||(lowuser=="juan soulie"))
	{
		document.write(' [<a href="/doc/publish.form?what=edit&itemid=12">Edit this document<\/a>] ');
	}
}
//-->
</SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY bgColor=#d7d7d7>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD class=imgbox vAlign=top bgColor=#b0c0d0 rowSpan=2><A 
      href="http://www.cplusplus.com/"><IMG height=75 
      src="Dynamic Memory_files/headlogo1.gif" width=165 border=0></A></TD>
    <TD class=imgbox vAlign=top bgColor=#ffffff><A 
      href="http://www.cplusplus.com/"><IMG height=18 
      src="Dynamic Memory_files/headlogo2.gif" width=33 border=0></A></TD>
    <TD width="95%" bgColor=#d7d7d7></TD>
    <TD bgColor=#d7d7d7></TD></TR>
  <TR>
    <TD class=imgbox vAlign=top bgColor=#ffffff><A 
      href="http://www.cplusplus.com/"><IMG height=57 
      src="Dynamic Memory_files/headlogo3.gif" width=33 border=0></A></TD>
    <TD class=bar vAlign=top width="95%">&nbsp; <B><A 
      href="http://www.cplusplus.com/">C++</A> : <A 
      href="http://www.cplusplus.com/doc/">Documents</A> : <A 
      href="http://www.cplusplus.com/doc/tutorial/">C++ Language Tutorial</A> : 
      Dynamic Memory </B><BR>
      <FORM name=search action=/search/search.php method=get>&nbsp; Search: 
      <INPUT class=txt size=13 name=q> <INPUT class=btn type=submit value=Search> </FORM></TD>
    <TD class=bar vAlign=top>
      <FORM name=login action=/member/login.form method=post><INPUT type=hidden 
      value=1 name=login><INPUT type=hidden value=/doc/tutorial/dynamic.html 
      name=redirectto>
      <SCRIPT type=text/javascript>
<!--
LoginBox();
// -->
</SCRIPT>
       </FORM><NOSCRIPT>
      <CENTER>javascript and cookies 
required</CENTER></NOSCRIPT></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD style="BORDER-RIGHT: black 1px solid; LINE-HEIGHT: 1px" width=165 
    bgColor=#b0c0d0><IMG height=1 src="Dynamic Memory_files/165x1.gif" 
      width=165></TD>
    <TD class=imgbox width="99%" bgColor=white><IMG height=1 
      src="Dynamic Memory_files/165x1.gif" width=165></TD></TR>
  <TR><!-- left -->
    <TD class=left vAlign=top align=middle width=165 bgColor=#b0c0d0>
      <TABLE class=box>
        <TBODY>
        <TR>
          <TH><A href="http://www.cplusplus.com/doc/tutorial/">C++ Language 
            Tutorial</A></TH></TR>
        <TR>
          <TD><B>Introduction</B></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/introduction.html"> 
            Instructions for use</A></TD></TR>
        <TR>
          <TD><B>Basics of C++</B></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/program_structure.html"> 
            Structure of a program</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/variables.html"> 
            Variables. Data Types.</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/constants.html"> 
            Constants</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/operators.html"> 
            Operators</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/basic_io.html"> 
            Basic Input/Output</A></TD></TR>
        <TR>
          <TD><B>Control Structures</B></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/control.html"> 
            Control Structures</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/functions.html"> 
            Functions (I)</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/functions2.html"> 
            Functions (II)</A></TD></TR>
        <TR>
          <TD><B>Compound Data Types</B></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/arrays.html"> 
            Arrays</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/ntcs.html"> 
            Character Sequences</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/pointers.html"> 
            Pointers</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/dynamic.html"> 
            Dynamic Memory</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/structures.html"> Data 
            Structures</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/other_data_types.html"> 
            Other Data Types</A></TD></TR>
        <TR>
          <TD><B>Object Oriented Programming</B></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/classes.html"> 
            Classes (I)</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/classes2.html"> 
            Classes (II)</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/inheritance.html"> 
            Friendship and inheritance</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/polymorphism.html"> 
            Polymorphism</A></TD></TR>
        <TR>
          <TD><B>Advanced Concepts</B></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/templates.html"> 
            Templates</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/namespaces.html"> 
            Namespaces</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/exceptions.html"> 
            Exceptions</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/typecasting.html"> Type 
            Casting</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/tutorial/preprocessor.html"> 
            Preprocessor directives</A></TD></TR>
        <TR>
          <TD><B>C++ Standard Library</B></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/files.html"> 
            Input/Output with files</A></TD></TR></TBODY></TABLE>
      <TABLE class=box>
        <TBODY>
        <TR>
          <TH><A href="http://www.cplusplus.com/doc/">Document 
          categories</A></TH></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/information/">Information 
            about C++</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/">C++ Language 
            Tutorial</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/papers/">Additional 
            Papers</A></TD></TR>
        <TR>
          <TD><A 
            href="http://www.cplusplus.com/doc/general/">User-contributed</A></TD></TR></TBODY></TABLE>
      <TABLE class=box>
        <TBODY>
        <TR>
          <TH><A href="http://www.cplusplus.com/">cplusplus.com</A></TH></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/doc/">documents</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/ref/">reference</A></TD></TR>
        <TR>
          <TD><A href="http://www.cplusplus.com/src/">sourcecodes</A></TD></TR>
        <TR>
          <TD><A 
      href="http://www.cplusplus.com/forum/">forum</A></TD></TR></TBODY></TABLE><BR><IMG 
      height=1 src="Dynamic Memory_files/165x1.gif" width=165>
      <SCRIPT type=text/javascript><!--
google_ad_client = "pub-5777024789006368";
google_ad_width = 125;
google_ad_height = 125;
google_ad_format = "125x125_as";
google_ad_type = "text_image";
google_ad_channel ="5923551140";
google_color_border = "3333CC";
google_color_bg = "FFFFFF";
google_color_link = "3333CC";
google_color_url = "000000";
google_color_text = "000000";
//--></SCRIPT>

      <SCRIPT language=javascript src="Dynamic Memory_files/1x1.js"></SCRIPT>
       <NOSCRIPT><A 
      href="http://media.fastclick.net/w/click.here?sid=4636&amp;m=3&amp;c=1" 
      target=_top><IMG height=600 src="Dynamic Memory_files/1x1.gif" width=160 
      border=1></A></NOSCRIPT> <IMG height=1 
      src="Dynamic Memory_files/165x1.gif" width=165> </TD><!-- /left -->
    <TD vAlign=top width="99%" bgColor=white>
      <CENTER>
      <SCRIPT type=text/javascript><!--
google_ad_client = "pub-5777024789006368";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="1922709837";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "000000";
google_color_text = "000000";
//--></SCRIPT>

      <SCRIPT language=javascript 
      src="Dynamic Memory_files/show_ads.js"></SCRIPT>
      <NOSCRIPT><A 
      href="http://media.fastclick.net/w/click.here?sid=4636&amp;m=1&amp;c=1" 
      target=_top><IMG height=90 
      src="F:\New Folder\Dynamic Memory_files\1x1(1).gif" width=728 
      border=1></A></NOSCRIPT> </CENTER>
      <DIV class=content>
      <TABLE width="100%">
        <TBODY>
        <TR>
          <TD>
            <H1>Dynamic Memory</H1></TD>
          <TD align=right>
            <TABLE>
              <TBODY>
              <TR>
                <TD align=right>Published by <B><A 
                  href="http://www.cplusplus.com/member/Juan_Soulie/">Juan 
                  Soulie</A></B></TD></TR>
              <TR>
                <TD align=right><SMALL>Last update on
                  <SCRIPT type=text/javascript>When(1147798413)</SCRIPT>
                   </SMALL></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>Until now, in 
      all our programs, we have only had as much memory available as we declared 
      for our variables, having the size of all of them to be determined in the 
      source code, before the execution of the program. But, what if we need a 
      variable amount of memory that can only be determined during runtime? For 
      example, in the case that we need some user input to determine the 
      necessary amount of memory space.
      <P>The answer is <I>dynamic memory</I>, for which C++ integrates the 
      operators <TT>new</TT> and <TT>delete</TT>.
      <P><A name=new></A>
      <H3>Operators new and new[]</H3>In order to request dynamic memory we use 
      the operator <TT>new</TT>. <TT>new</TT> is followed by a data type 
      specifier and -if a sequence of more than one element is required- the 
      number of these within brackets <TT>[]</TT>. It returns a pointer to the 
      beginning of the new block of memory allocated. Its form is: 
      <P><TT>pointer = new type<BR>pointer = new type [elements] </TT>
      <P>The first expression is used to allocate memory to contain one single 
      element of type <TT>type</TT>. The second one is used to assign a block 
      (an array) of elements of type <TT>type</TT>, where <TT>elements</TT> is 
      an integer value representing the number of these. For example:
      <P>
      <TABLE class=snippet>
        <TBODY>
        <TR>
          <TD class=code><PRE><SPAN class=kw>int</SPAN> * bobby;
bobby = <SPAN class=kw>new</SPAN> <SPAN class=kw>int</SPAN> [5];
</PRE></TD></TR></TBODY></TABLE>
      <P>In this case, the system dynamically assigns space for five elements of 
      type <TT>int</TT> and returns a pointer to the first element of the 
      sequence, which is assigned to <TT>bobby</TT>. Therefore, now, 
      <TT>bobby</TT> points to a valid block of memory with space for five 
      elements of type <TT>int</TT>.
      <P><IMG src="Dynamic Memory_files/12-imgdyna1.gif"> 
      <P>The first element pointed by bobby can be accessed either with the 
      expression <TT>bobby[0]</TT> or the expression <TT>*bobby</TT>. Both are 
      equivalent as has been explained in the section about pointers. The second 
      element can be accessed either with <TT>bobby[1]</TT> or 
      <TT>*(bobby+1)</TT> and so on...
      <P>You could be wondering the difference between declaring a normal array 
      and assigning dynamic memory to a pointer, as we have just done. The most 
      important difference is that the size of an array has to be a constant 
      value, which limits its size to what we decide at the moment of designing 
      the program, before its execution, whereas the dynamic memory allocation 
      allows us to assign memory during the execution of the program (runtime) 
      using any variable or constant value as its size.
      <P>The dynamic memory requested by our program is allocated by the system 
      from the memory heap. However, computer memory is a limited resource, and 
      it can be exhausted. Therefore, it is important to have some mechanism to 
      check if our request to allocate memory was successful or not.
      <P>C++ provides two standard methods to check if the allocation was 
      successful:
      <P>One is by handling exceptions. Using this method an exception of type 
      <TT>bad_alloc</TT> is thrown when the allocation fails. Exceptions are a 
      powerful C++ feature explained later in these tutorials. But for now you 
      should know that if this exception is thrown and it is not handled by a 
      specific handler, the program execution is terminated.
      <P>This exception method is the default method used by new, and is the one 
      used in a declaration like:
      <P>
      <TABLE class=snippet>
        <TBODY>
        <TR>
          <TD class=code><PRE>bobby = <SPAN class=kw>new</SPAN> <SPAN class=kw>int</SPAN> [5];  <SPAN class=comm>// if it fails an exception is thrown</SPAN>
</PRE></TD></TR></TBODY></TABLE>
      <P>The other method is known as <TT>nothrow</TT>, and what happens when it 
      is used is that when a memory allocation fails, instead of throwing a 
      <TT>bad_alloc</TT> exception or terminating the program, the pointer 
      returned by <TT>new</TT> is a null pointer, and the program continues its 
      execution.
      <P>This method can be specified by using a special object called 
      <TT>nothrow</TT> as parameter for <TT>new</TT>:
      <P>
      <TABLE class=snippet>
        <TBODY>
        <TR>
          <TD class=code><PRE>bobby = <SPAN class=kw>new</SPAN> (nothrow) <SPAN class=kw>int</SPAN> [5]; 
</PRE></TD></TR></TBODY></TABLE>
      <P>In this case, if the allocation of this block of memory failed, the 
      failure could be detected by checking if <TT>bobby</TT> took a null 
      pointer value:
      <P>
      <TABLE class=snippet>
        <TBODY>
        <TR>
          <TD class=code><PRE><SPAN class=kw>int</SPAN> * bobby;
bobby = <SPAN class=kw>new</SPAN> (nothrow) <SPAN class=kw>int</SPAN> [5];
<SPAN class=kw>if</SPAN> (bobby == 0) {
  <SPAN class=comm>// error assigning memory. Take measures.</SPAN>
  }; 
</PRE></TD></TR></TBODY></TABLE>
      <P>This <TT>nothrow</TT> method requires more work than the exception 
      method, since the value returned has to be checked after each and every 
      memory allocation, but I will use it in our examples due to its 
      simplicity. Anyway this method can become tedious for larger projects, 
      where the exception method is generally preferred. The exception method 
      will be explained in detail later in this tutorial.
      <P><A name=""></A>
      <H3>Operator delete and delete[]</H3>Since the necessity of dynamic memory 
      is usually limited to specific moments within a program, once it is no 
      longer needed it should be freed so that the memory becomes available 
      again for other requests of dynamic memory. This is the purpose of the 
      operator <TT>delete</TT>, whose format is:
      <P>
      <TABLE class=snippet>
        <TBODY>
        <TR>
          <TD class=code><PRE><SPAN class=kw>delete</SPAN> pointer;
<SPAN class=kw>delete</SPAN> [] pointer;
</PRE></TD></TR></TBODY></TABLE>
      <P>The first expression should be used to delete memory allocated for a 
      single element, and the second one for memory allocated for arrays of 
      elements. 
      <P>The value passed as argument to delete must be either a pointer to a 
      memory block previously allocated with <TT>new</TT>, or a null pointer (in 
      the case of a null pointer, <TT>delete</TT> produces no effect).
      <P>
      <TABLE class=codebox>
        <TBODY>
        <TR>
          <TD class=code><PRE><SPAN class=comm>// rememb-o-matic</SPAN>
<SPAN class=prep>#include &lt;iostream&gt;</SPAN>
<SPAN class=kw>using</SPAN> <SPAN class=kw>namespace</SPAN> std;

<SPAN class=kw>int</SPAN> main ()
{
  <SPAN class=kw>int</SPAN> i,n;
  <SPAN class=kw>int</SPAN> * p;
  cout &lt;&lt; <SPAN class=str>"How many numbers would you like to type? "</SPAN>;
  cin &gt;&gt; i;
  p= <SPAN class=kw>new</SPAN> (nothrow) <SPAN class=kw>int</SPAN>[i];
  <SPAN class=kw>if</SPAN> (p == 0)
    cout &lt;&lt; <SPAN class=str>"Error: memory could not be allocated"</SPAN>;
  <SPAN class=kw>else</SPAN>
  {
    <SPAN class=kw>for</SPAN> (n=0; n&lt;i; n++)
    {
      cout &lt;&lt; <SPAN class=str>"Enter number: "</SPAN>;
      cin &gt;&gt; p[n];
    }
    cout &lt;&lt; <SPAN class=str>"You have entered: "</SPAN>;
    <SPAN class=kw>for</SPAN> (n=0; n&lt;i; n++)
      cout &lt;&lt; p[n] &lt;&lt; <SPAN class=str>", "</SPAN>;
    <SPAN class=kw>delete</SPAN>[] p;
  }
  <SPAN class=kw>return</SPAN> 0;
}
</PRE></TD>
          <TD class=result><PRE>How many numbers would you like to type? 5
Enter number : 75
Enter number : 436
Enter number : 1067
Enter number : 8
Enter number : 32
You have entered: 75, 436, 1067, 8, 32,
</PRE></TD></TR></TBODY></TABLE>
      <P>Notice how the value within brackets in the <TT>new</TT> statement is a 
      variable value entered by the user (<TT>i</TT>), not a constant value:
      <P>
      <TABLE class=snippet>
        <TBODY>
        <TR>
          <TD class=code><PRE>p= <SPAN class=kw>new</SPAN> (nothrow) <SPAN class=kw>int</SPAN>[i];
</PRE></TD></TR></TBODY></TABLE>
      <P>But the user could have entered a value for i so big that our system 
      could not handle it. For example, when I tried to give a value of 1 
      billion to the "How many numbers" question, my system could not allocate 
      that much memory for the program and I got the text message we prepared 
      for this case (<TT>Error: memory could not be allocated</TT>). Remember 
      that in the case that we tried to allocate the memory without specifying 
      the nothrow parameter in the new expression, an exception would be thrown, 
      which if it's not handled terminates the program.
      <P>It is a good practice to always check if a dynamic memory block was 
      successfully allocated. Therefore, if you use the <TT>nothrow</TT> method, 
      you should always check the value of the pointer returned. Otherwise, use 
      the exception method, even if you do not handle the exception. This way, 
      the program will terminate at that point without causing the unexpected 
      results of continuing executing a code that assumes a block of memory to 
      have been allocated when in fact it has not.
      <P><A name=""></A>
      <H3>Dynamic memory in ANSI-C</H3>
      <P>Operators <TT>new</TT> and <TT>delete</TT> are exclusive of C++. They 
      are not available in the C language. But using pure C language, dynamic 
      memory can also be used through the functions <TT>malloc</TT>, 
      <TT>calloc</TT>, <TT>realloc</TT> and <TT>free</TT>, defined in the 
      <TT>&lt;cstdlib&gt;</TT> header file, and since C++ is a superset of C, 
      these functions are also available to C++ programmers.
      <P>The memory blocks allocated by these functions are not compatible with 
      those returned by new, so each one should be manipulated with its own set 
      of functions or operators.<BR>
      <P>
      <CENTER>
      <TABLE>
        <TBODY>
        <TR>
          <TD align=right width="49%"><A 
            href="http://www.cplusplus.com/doc/tutorial/pointers.html"><IMG 
            src="Dynamic Memory_files/navigate_previous.gif" align=right 
            border=0>Previous:<BR><B>Pointers</B></A> </TD>
          <TD><A href="http://www.cplusplus.com/doc/tutorial/"><IMG 
            src="Dynamic Memory_files/navigate_index.gif" 
          border=0><BR>index</A></TD>
          <TD align=left width="49%"><A 
            href="http://www.cplusplus.com/doc/tutorial/structures.html"><IMG 
            src="Dynamic Memory_files/navigate_next.gif" align=left 
            border=0>Next:<BR><B>Data Structures</B></A> 
      </TD></TR></TBODY></TABLE></CENTER>
      <P></P>
      <P>
      <SCRIPT type=text/javascript>
<!--
SuOptions()
-->
</SCRIPT>
      </P></DIV></TD></TR>
  <TR>
    <TD 
    style="BORDER-TOP: black 1px solid; BACKGROUND: #d7d7d7; PADDING-BOTTOM: 5px" 
    align=middle colSpan=2><SMALL> The C++ Resources Network, 2000-2005 - All 
      rights reserved</SMALL></TD></TR></TBODY></TABLE></BODY></HTML>
